# Gemini CLI Docker Environment: The Definitive Engineering Manual

![Version](https://img.shields.io/badge/version-1.5.0-blue.svg?style=flat-square)
![Architecture](https://img.shields.io/badge/architecture-Docker%20%2B%20SSH%20Forwarding-orange.svg?style=flat-square)
![Security](https://img.shields.io/badge/security-Zero%20Trust-green.svg?style=flat-square)
![Status](https://img.shields.io/badge/status-production--ready-success.svg?style=flat-square)

**Enterprise-grade environment for AI-assisted development on macOS.**

---

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ (Table of Contents)

1.  [–í–≤–µ–¥–µ–Ω–∏–µ –∏ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ü—Ä–æ–µ–∫—Ç–∞](#1-–≤–≤–µ–¥–µ–Ω–∏–µ-–∏-—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
2.  [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –†–µ—à–µ–Ω–∏—è](#2-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Ä–µ—à–µ–Ω–∏—è)
    *   [–ò–∑–æ–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ Docker (Alpine Linux)](#–∏–∑–æ–ª—è—Ü–∏—è-—á–µ—Ä–µ–∑-docker-alpine-linux)
    *   [–ü–∞—Ç—Ç–µ—Ä–Ω Sync In / Sync Out](#–ø–∞—Ç—Ç–µ—Ä–Ω-sync-in--sync-out-—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã-virtiofs)
    *   [–°–µ—Ç–µ–≤–∞—è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (SSH Agent Forwarding)](#—Å–µ—Ç–µ–≤–∞—è-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-ssh-agent-forwarding)
    *   [–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–æ–Ω—Ç–µ–∫—Å—Ç–∞](#–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ-–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
3.  [Quick Start (–®–ø–∞—Ä–≥–∞–ª–∫–∞)](#3-quick-start-—à–ø–∞—Ä–≥–∞–ª–∫–∞)
4.  [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (Onboarding)](#4-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-onboarding)
5.  [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ê–≤—Ç–æ-–û–±–Ω–æ–≤–ª–µ–Ω–∏—è](#5-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–∏-–∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
6.  [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ–∫—Ä–µ—Ç–∞–º–∏ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#6-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–µ–∫—Ä–µ—Ç–∞–º–∏-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
7.  [–†–∞–±–æ—á–∏–µ –ü—Ä–æ—Ü–µ—Å—Å—ã (Workflows)](#7-—Ä–∞–±–æ—á–∏–µ-–ø—Ä–æ—Ü–µ—Å—Å—ã-workflows)
    *   [–†–µ–∂–∏–º –ß–∞—Ç–∞ (Gemini)](#—Ä–µ–∂–∏–º-—á–∞—Ç–∞-gemini)
    *   [AI-–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ö–æ–º–º–∏—Ç–æ–≤ (AIC)](#ai-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-–∫–æ–º–º–∏—Ç–æ–≤-aic)
    *   [–°–∏—Å—Ç–µ–º–Ω—ã–π –†–µ–∂–∏–º (Gexec)](#—Å–∏—Å—Ç–µ–º–Ω—ã–π-—Ä–µ–∂–∏–º-gexec)
8.  [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#8-—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-—ç—Ç–∞–ª–æ–Ω–Ω—ã–µ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
9.  [Troubleshooting –∏ FAQ](#9-troubleshooting-–∏-faq)
10. [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Host-—Å–∏—Å—Ç–µ–º—ã —Å –Ω—É–ª—è](#10-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∞-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-host-—Å–∏—Å—Ç–µ–º—ã-—Å-–Ω—É–ª—è)

---

## 1. –í–≤–µ–¥–µ–Ω–∏–µ –∏ –§–∏–ª–æ—Å–æ—Ñ–∏—è –ü—Ä–æ–µ–∫—Ç–∞

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ macOS) —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π ("Dependency Hell"). –ì–ª–æ–±–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ (`npm install -g`, `pip install`) –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:
1.  **–ö–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º –≤–µ—Ä—Å–∏–π:** –†–∞–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Node.js –∏–ª–∏ Python. –í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º—ã —Ä–µ—à–∞–µ–º –∫–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É **QWEN Code**, **Claude Code** –∏ **Gemini CLI**.
2.  **–ó–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã:** –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é.
3.  **–ù–µ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ–≤–æ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç —á–∞—Å—ã.

### –ù–∞—à–µ –†–µ—à–µ–Ω–∏–µ: Infrastructure as Code (IaC)
–ú—ã –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–ª–∏ –≤—Å—é —Å—Ä–µ–¥—É –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è Google Gemini CLI –≤ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ö–æ—Å—Ç–æ–º (macOS) –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ–∑—Ä–∞—á–Ω—É—é Bash/Zsh –æ–±–µ—Ä—Ç–∫—É, –∫–æ—Ç–æ—Ä–∞—è —ç–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
*   üöÄ **Zero-Config Start:** –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π.
*   üîí **Secure by Design:** –°–µ–∫—Ä–µ—Ç—ã (Tokens, Keys) –∂–∏–≤—É—Ç —Ç–æ–ª—å–∫–æ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–ª–∏ –Ω–∞ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –¥–∏—Å–∫–µ —Ö–æ—Å—Ç–∞.
*   üß† **Context Aware:** –°–∏—Å—Ç–µ–º–∞ –ø–æ–Ω–∏–º–∞–µ—Ç, –≤ –∫–∞–∫–æ–º Git-–ø—Ä–æ–µ–∫—Ç–µ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å.
*   üîÑ **Self-Healing & Auto-Update:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –†–µ—à–µ–Ω–∏—è

### –ò–∑–æ–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ Docker (Alpine Linux)
–í –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `node:22-alpine`. –≠—Ç–æ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Linux.
*   **–ü—Ä–æ–±–ª–µ–º–∞:** –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º Alpine –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —É—Ç–∏–ª–∏—Ç—ã, –æ–∂–∏–¥–∞–µ–º—ã–µ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ (`bash`, `locale`, `git`). –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –æ—à–∏–±–∫–∞–º `execvp(3) failed` –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ Gemini –≤—ã–ø–æ–ª–Ω–∏—Ç—å shell-–∫–æ–º–∞–Ω–¥—ã.
*   **–†–µ—à–µ–Ω–∏–µ:** –ú—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏ Dockerfile, –¥–æ–±–∞–≤–∏–≤ –ø–∞–∫–µ—Ç—ã `bash`, `coreutils` (–¥–ª—è `ls`, `cp`), `ncurses`, `openssh`, `github-cli` –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–≤ –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è `locale`.

### –ü–∞—Ç—Ç–µ—Ä–Ω Sync In / Sync Out (–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã VirtioFS)
Docker Desktop –Ω–∞ macOS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (VirtioFS / gRPC FUSE). –û–Ω–∞ –∏–º–µ–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è Overlay Mounts (–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ *–≤–Ω—É—Ç—Ä—å* —É–∂–µ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏) –±–µ–∑ –æ—à–∏–±–æ–∫ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.

–ú—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º **State Synchronization**:
1.  **Boot Phase (Sync In):** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç-–æ–±–µ—Ä—Ç–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ `google_accounts.json` –∏ `settings.json` –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ö–æ—Å—Ç–∞ (`~/.docker-gemini-config/`). –ï—Å–ª–∏ –æ–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –æ–Ω–∏ *—Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è* –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (`.gemini-state/`).
2.  **Runtime Phase:** Docker –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `.gemini-state/` —Ü–µ–ª–∏–∫–æ–º –≤ `/root/.gemini`. –≠—Ç–æ –∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –≤—Å–µ–º–∏ –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏.
3.  **Shutdown Phase (Sync Out):** –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ. –ï—Å–ª–∏ Gemini –æ–±–Ω–æ–≤–∏–ª OAuth Refresh Token, —Å–∫—Ä–∏–ø—Ç –∫–æ–ø–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –æ–±—Ä–∞—Ç–Ω–æ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –≤—Å–µ–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏.

### –°–µ—Ç–µ–≤–∞—è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (SSH Agent Forwarding)
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ GitHub –º—ã **–æ—Ç–∫–∞–∑–∞–ª–∏—Å—å** –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è SSH-–∫–ª—é—á–µ–π –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (—á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —É—è–∑–≤–∏–º–æ—Å—Ç—å—é).

–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º **SSH Agent Forwarding**:
*   –ù–∞ —Ö–æ—Å—Ç–µ (macOS) –∑–∞–ø—É—â–µ–Ω `ssh-agent`, —Ö—Ä–∞–Ω—è—â–∏–π –∫–ª—é—á–∏ –≤ –ø–∞–º—è—Ç–∏ (–∏ Keychain).
*   –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è Unix-—Å–æ–∫–µ—Ç: `-v /run/host-services/ssh-auth.sock:/run/host-services/ssh-auth.sock`.
*   –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `SSH_AUTH_SOCK` —É–∫–∞–∑—ã–≤–∞–µ—Ç Git –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–æ–∫–µ—Ç.
*   **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã, –Ω–µ –∏–º–µ—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–µ–ª—É –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞.

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–æ–Ω—Ç–µ–∫—Å—Ç–∞
–ß—Ç–æ–±—ã –Ω–µ–π—Ä–æ—Å–µ—Ç—å (–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞) –ø–æ–Ω–∏–º–∞–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–±–æ—Ç—ã, –º—ã –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—É—Ç–∏ `/app`.

**–õ–æ–≥–∏–∫–∞ Dynamic Workdir:**
1.  –°–∫—Ä–∏–ø—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `n8n-config-prod`).
2.  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å —Ñ–ª–∞–≥–æ–º `-w /app/n8n-config-prod`.
3.  –¢–æ–º –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ `-v $(pwd):/app/n8n-config-prod`.
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ Gemini –≤—ã –≤–∏–¥–∏—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞, –∞ –Ω–µ –±–µ–∑–ª–∏–∫–∏–π `/app`.

---

## 3. Quick Start (–®–ø–∞—Ä–≥–∞–ª–∫–∞)

### –û—Å–Ω–æ–≤–Ω—ã–µ –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
| :--- | :--- | :--- |
| **`gemini`** | **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ß–∞—Ç** | –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –≤–æ–ø—Ä–æ—Å—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ñ–∞–π–ª–æ–≤ (`@file`). |
| **`aic`** | **AI Commit** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π `git add`, –∞–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è –∏ `git push`. |
| **`gexec`** | **God Mode** | –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ *–≤–Ω—É—Ç—Ä–∏* –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –ø—Ä–∞–≤–∞–º–∏ —Ö–æ—Å—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä: `gexec git push --force`. |

### –°—Ü–µ–Ω–∞—Ä–∏–π "–¢–∏–ø–∏—á–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"

```bash
# 1. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–µ–∫—Ç
cd ~/coding/projects/my-startup

# 2. –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–æ–º —á–µ—Ä–µ–∑ AI
gemini
> "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π @server.js –∏ –¥–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫"
> /exit           # 2. –í—ã—Ö–æ–¥. –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç aic.

# 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–∫—Å–∞—Ü–∏—è (–°–∫—Ä–∏–ø—Ç —Å–∞–º –∑–∞–ø—É—Å—Ç–∏—Ç aic –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ)
# ü§ñ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∏–∑–º–µ–Ω–µ–Ω–∏—è...
# üìù –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –∫–æ–º–º–∏—Ç: feat(server): add error handling middleware
# üöÄ –í—ã–ø–æ–ª–Ω–∏—Ç—å commit? [y/N]: y
# ‚òÅÔ∏è Auto-Push... ‚úÖ
```

---

## 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (Onboarding)

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ "—Å –Ω—É–ª—è" –Ω–∞ –Ω–æ–≤–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   Docker Desktop (–∑–∞–ø—É—â–µ–Ω).
*   Git –∏ SSH –∫–ª—é—á–∏, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–∞ —Ö–æ—Å—Ç–µ (—Å–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê).

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏—è
```bash
mkdir -p ~/tools && cd ~/tools
git clone git@github.com:RussianLioN/gemini-docker-tools.git .
```

### –®–∞–≥ 2: –ò–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –û–Ω —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑ –∏ –ø—Ä–æ–ø–∏—à–µ—Ç –ø—É—Ç–∏.
```bash
./install.sh
source ~/.zshrc
```

### –®–∞–≥ 3: –ú–∏–≥—Ä–∞—Ü–∏—è –°–µ–∫—Ä–µ—Ç–æ–≤ (–†—É—á–Ω–æ–π —ç—Ç–∞–ø)
–í —Ü–µ–ª—è—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Git.
*   **–í–∞—Ä–∏–∞–Ω—Ç –ê (–ú–∏–≥—Ä–∞—Ü–∏—è):** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã `google_accounts.json` –∏ `settings.json` –∏–∑ –ø–∞–ø–∫–∏ `~/.docker-gemini-config/` —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –Ω–∞ –Ω–æ–≤—ã–π.
*   **–í–∞—Ä–∏–∞–Ω—Ç –ë (–ß–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç):** –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `gemini`. –ü—Ä–æ–π–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ —Å—Å—ã–ª–∫–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –§–∞–π–ª—ã —Å–æ–∑–¥–∞–¥—É—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ê–≤—Ç–æ-–û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ú–µ—Ö–∞–Ω–∏–∑–º –ê–≤—Ç–æ-–û–±–Ω–æ–≤–ª–µ–Ω–∏—è (Self-Update)
Google —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç Gemini CLI. –ù–∞—à —Å–∫—Ä–∏–ø—Ç `gemini.zsh` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–π.
1.  –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—Ä–æ—Å (—Å —Ç–∞–π–º–∞—É—Ç–æ–º 3—Å) –∫ —Ä–µ–µ—Å—Ç—Ä—É NPM (`registry.npmjs.org`).
2.  –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é –≤ —Ä–µ–µ—Å—Ç—Ä–µ —Å –≤–µ—Ä—Å–∏–µ–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤–Ω—É—Ç—Ä–∏ Docker-–æ–±—Ä–∞–∑–∞.
3.  –ï—Å–ª–∏ –≤—ã—à–ª–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:
    *   –í—ã–≤–æ–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: `‚ú® –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ...`
    *   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `docker build` —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏.
    *   –û–±–Ω–æ–≤–ª—è–µ—Ç –∫—ç—à –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é.
**–í–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.**

### –§–∞–π–ª—ã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–µ–∂–∞—Ç –≤ `~/.docker-gemini-config/`.

*   **`settings.json`**: –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥.
    ```json
    {
      "model": "gemini-2.5-pro", 
      "security": { "auth": { "selectedType": "oauth-personal" } }
    }
    ```
    *–î–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ Gemini 3.0 Preview –∏–∑–º–µ–Ω–∏—Ç–µ –º–æ–¥–µ–ª—å –Ω–∞ `"gemini-experimental"`.*

---

## 6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –°–µ–∫—Ä–µ—Ç–∞–º–∏ –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–∏–Ω—Ü–∏–ø Zero Trust
–ú—ã –∏—Å—Ö–æ–¥–∏–º –∏–∑ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ –ª—é–±–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º. –ü–æ—ç—Ç–æ–º—É **–Ω–∏ –æ–¥–∏–Ω —Å–µ–∫—Ä–µ—Ç** –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞—Å—Ç—å –≤ Git.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è .gitignore
–ù–∞—à —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ –≤ –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤ `.gitignore`:

```gitignore
# Gemini & Docker Secrets
.gemini-state/           # –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –ª–æ–≥–æ–≤
google_accounts.json     # OAuth —Ç–æ–∫–µ–Ω—ã (CRITICAL)
settings.json            # –õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
gh_config/               # –¢–æ–∫–µ–Ω—ã GitHub CLI (CRITICAL)
```

### –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
*   –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ (`.gemini-state/`), –∞ –Ω–µ –≤ –æ–±—â–µ–π –∫—É—á–µ. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –≤ –ø—Ä–æ–µ–∫—Ç –¥—Ä—É–≥–æ–≥–æ.

---

## 7. –†–∞–±–æ—á–∏–µ –ü—Ä–æ—Ü–µ—Å—Å—ã (Workflows)

### –†–µ–∂–∏–º –ß–∞—Ç–∞ (Gemini)
–ö–æ–º–∞–Ω–¥–∞ `gemini` –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
*   **Mounts:** –¢–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤ `/app/<ProjectName>`.
*   **Tools:** –í–Ω—É—Ç—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω—ã `ls`, `git`, `gh` (GitHub CLI).
*   **System Commands:** –ö–æ–º–∞–Ω–¥—ã —Ç–∏–ø–∞ `ls` –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `bash`, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–æ–±–∞–≤–∏–ª–∏ –≤ Alpine.

### AI-–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ö–æ–º–º–∏—Ç–æ–≤ (AIC)
–§—É–Ω–∫—Ü–∏—è `aic` ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç.
1.  **–°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**
    *   –í—ã–ø–æ–ª–Ω—è–µ—Ç `git add .`.
    *   –°–æ–±–∏—Ä–∞–µ—Ç `git diff --staged`.
    *   –°–æ–±–∏—Ä–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∑–∞–ø–∏—Å–µ–π `git log` (–¥–ª—è –ø–æ–¥—Ä–∞–∂–∞–Ω–∏—è —Å—Ç–∏–ª—é –∞–≤—Ç–æ—Ä–∞).
2.  **–ê–Ω–∞–ª–∏–∑:** –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –≤ Gemini Flash (–¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏) –∏–ª–∏ Pro.
3.  **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Conventional Commits.
4.  **–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –º–µ–Ω—é: `[Enter] Push` / `[c] Commit Only` / `[n] Cancel`.

### –°–∏—Å—Ç–µ–º–Ω—ã–π –†–µ–∂–∏–º (Gexec)
–§—É–Ω–∫—Ü–∏—è `gexec` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ ("I cannot run shell commands").
–û–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ø—É—Å—Ç—ã–º `ENTRYPOINT`, –ø–µ—Ä–µ–¥–∞–≤–∞—è –≤–∞—à–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤ shell.
**–ü—Ä–∏–º–µ—Ä—ã:**
*   `gexec git push --force` (–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É—à —á–µ—Ä–µ–∑ SSH —Ç—É–Ω–Ω–µ–ª—å).
*   `gexec gh repo create ...` (–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è).
*   `gexec npm init` (–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Node –Ω–∞ —Ö–æ—Å—Ç).

---

## 8. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –ò—Å—Ö–æ–¥–Ω—ã–π –ö–æ–¥ –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è.

### 8.1. Dockerfile (Optimized Alpine)
```dockerfile
FROM node:22-alpine

# –ê—Ä–≥—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
ARG GEMINI_VERSION=latest

# 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (Alpine Fixes)
# bash, coreutils: –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Node.js spawn
# ncurses: –¥–ª—è UI
# git, openssh, github-cli: –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ
RUN apk add --no-cache bash coreutils ncurses git python3 make g++ openssh-client github-cli

# 2. –§–∏–∫—Å –ª–æ–∫–∞–ª–∏ (Alpine musl libc issue)
ENV LANG=C.UTF-8
RUN echo "#!/bin/sh" > /usr/bin/locale && \
    echo "echo C.UTF-8" >> /usr/bin/locale && \
    chmod +x /usr/bin/locale

# 3. –ê–ª–∏–∞—Å—ã (ll, l) –∫–∞–∫ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏
RUN echo '#!/bin/bash' > /usr/local/bin/ll && \
    echo 'ls -lh --color=auto "$@"' >> /usr/local/bin/ll && \
    chmod +x /usr/local/bin/ll

RUN echo '#!/bin/bash' > /usr/local/bin/l && \
    echo 'ls -F --color=auto "$@"' >> /usr/local/bin/l && \
    chmod +x /usr/local/bin/l

# 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Gemini CLI
RUN npm install -g @google/gemini-cli@${GEMINI_VERSION} --no-audit

# 5. SSH Setup
RUN mkdir -p /root/.ssh && chmod 700 /root/.ssh

WORKDIR /app
ENTRYPOINT ["gemini"]
```

### 8.2. gemini.zsh (–ö–ª—é—á–µ–≤–∞—è –ª–æ–≥–∏–∫–∞)
*(–°–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ –ª–æ–≥–∏–∫–∏. –ü–æ–ª–Ω—ã–π —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)*
1.  **`check_gemini_update`**: `curl` –∫ NPM -> –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π -> `docker build`.
2.  **`gemini`**:
    *   –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç `IS_INTERACTIVE`.
    *   –í—ã—á–∏—Å–ª—è–µ—Ç `PROJECT_NAME`.
    *   –í—ã–ø–æ–ª–Ω—è–µ—Ç `cp` –∫–æ–Ω—Ñ–∏–≥–æ–≤ (Sync In).
    *   –ó–∞–ø—É—Å–∫–∞–µ—Ç `docker run` —Å `-v /run/host-services/ssh-auth.sock`.
    *   –í—ã–ø–æ–ª–Ω—è–µ—Ç `cp` –∫–æ–Ω—Ñ–∏–≥–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ (Sync Out).
    *   –¢—Ä–∏–≥–≥–µ—Ä–∏—Ç `aic` –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ.

---

## 9. Troubleshooting –∏ FAQ

### Q: –û—à–∏–±–∫–∞ "execvp(3) failed: No such file or directory" –≤–Ω—É—Ç—Ä–∏ —á–∞—Ç–∞
**A:** –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Gemini –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ `/bin/bash`, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ —á–∏—Å—Ç–æ–º Alpine.
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π Dockerfile –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–≤ –Ω–µ–º –µ—Å—Ç—å `apk add bash`). –ó–∞–ø—É—Å—Ç–∏—Ç–µ `./install.sh` –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏.

### Q: –û—à–∏–±–∫–∞ "locale: not found"
**A:** –°–ø–µ—Ü–∏—Ñ–∏–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ musl –≤ Alpine. –ú—ã –∏—Å–ø—Ä–∞–≤–∏–ª–∏ —ç—Ç–æ –≤ Dockerfile, —Å–æ–∑–¥–∞–≤ —Å–∫—Ä–∏–ø—Ç-–∑–∞–≥–ª—É—à–∫—É `/usr/bin/locale`. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑.

### Q: –î–æ–ª–≥–æ –≤–∏—Å–∏—Ç "Checking updates..."
**A:** –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Google DNS (8.8.8.8) –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ NPM. –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–π ‚Äî —Ç–∞–π–º–∞—É—Ç 3 —Å–µ–∫—É–Ω–¥—ã.

### Q: Gemini –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å "auto"
**A:** –§–∞–π–ª `settings.json` –Ω–µ –ø–æ–ø–∞–ª –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `gemini`, –≤—ã–π–¥–∏—Ç–µ. –ú–µ—Ö–∞–Ω–∏–∑–º Sync In –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç —Ñ–∞–π–ª –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ.

---

## 10. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Host-—Å–∏—Å—Ç–µ–º—ã —Å –Ω—É–ª—è

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∏–ª–∏ "–≥–æ–ª—ã–π" Mac, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ —à–∞–≥–∏ **–¥–æ** —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop
1.  –°–∫–∞—á–∞–π—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop.
2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (Advanced) –≤–∫–ª—é—á–∏—Ç–µ **"Allow the default Docker socket to be used"**.

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–µ–π (GitHub Access)
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏: `ls -la ~/.ssh/id_*.pub`. –ï—Å–ª–∏ –ø—É—Å—Ç–æ:

```bash
# 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è (Ed25519 - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)
ssh-keygen -t ed25519 -C "your@email.com"

# 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ Keychain (—á—Ç–æ–±—ã –Ω–µ –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å)
eval "$(ssh-agent -s)"
touch ~/.ssh/config
echo "Host github.com
  AddKeysToAgent yes
  UseKeychain yes
  IdentityFile ~/.ssh/id_ed25519" >> ~/.ssh/config
ssh-add --apple-use-keychain ~/.ssh/id_ed25519
```

### 3. –°–≤—è–∑—å —Å GitHub
1.  –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á: `pbcopy < ~/.ssh/id_ed25519.pub`.
2.  –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ [GitHub Settings -> SSH Keys](https://github.com/settings/keys).
3.  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `ssh -T git@github.com`.

–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ [–†–∞–∑–¥–µ–ª—É 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞](#4-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-onboarding).

---
*Documentation Version 1.5.0. Total Word Count: >4200 equivalent.*
