# Gemini CLI Docker Environment: The Ultimate Engineering Manual

**Version:** 1.4.0 (Comprehensive Edition)
**Architecture:** Dockerized Node.js + SSH Agent Forwarding + Context Awareness
**Compliance:** DevOps Best Practices, Zero Trust Security
**Target Audience:** From Junior to Principal DevOps Engineers

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#1-–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [Quick Start (Cheat Sheet)](#2-quick-start-cheat-sheet)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –†–µ—à–µ–Ω–∏—è](#3-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ä–µ—à–µ–Ω–∏—è)
4. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#4-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –°–µ–∫—Ä–µ—Ç–æ–≤](#5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏-–∏-—Å–µ–∫—Ä–µ—Ç–æ–≤)
6. [–†–∞–±–æ—Ç–∞ —Å –ú–æ–¥–µ–ª—è–º–∏ (Gemini 3.0)](#6-—Ä–∞–±–æ—Ç–∞-—Å-–º–æ–¥–µ–ª—è–º–∏-gemini-30)
7. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Git (SSH Forwarding)](#7-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-git-ssh-forwarding)
8. [AI-–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (Workflow)](#8-ai-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-workflow)
9. [–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–∫—Ä–∏–ø—Ç–æ–≤](#9-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ-—Å–∫—Ä–∏–ø—Ç–æ–≤)
10. [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –Ω—É–ª—è](#10-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∞-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è-—Å-–Ω—É–ª—è)

---

## 1. –í–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **Infrastructure as Code (IaC)** —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Google Gemini CLI –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
1.  **–ß–∏—Å—Ç–æ—Ç–∞ —Å–∏—Å—Ç–µ–º—ã:** –ù–µ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Node.js, Python –∏ –∫—É—á—É npm-–ø–∞–∫–µ—Ç–æ–≤ –≥–ª–æ–±–∞–ª—å–Ω–æ –Ω–∞ macOS.
2.  **–ò–∑–æ–ª—è—Ü–∏—è:** –ü—Ä–æ–µ–∫—Ç—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).
3.  **–£–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:** –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞–¥ –∫–∞–∫–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ, –∏ –≤–µ–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
4.  **DevOps-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏.

---

## 2. Quick Start (Cheat Sheet)

–°–∞–º—ã–µ —á–∞—Å—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö –≤ –∑–∞–º–µ—Ç–∫–∏.

### ü§ñ –†–µ–∂–∏–º –ß–∞—Ç–∞ (Brainstorming)
```bash
gemini
```
*–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:* –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å AI. –í–∏–¥–∏—Ç —Ñ–∞–π–ª—ã –≤ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–µ.
*–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:* –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥, –Ω–∞–π—Ç–∏ –æ—à–∏–±–∫—É –∏–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç—å "–∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?".

### üìù –†–µ–∂–∏–º –ê–≤—Ç–æ-–ö–æ–º–º–∏—Ç–∞ (Save Work)
```bash
aic
```
*–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:*  -> –ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -> –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è -> Push.
*–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:* **–í—Å–µ–≥–¥–∞** –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ On branch main
Your branch is up to date with 'origin/main'.

nothing to commit, working tree clean.

### üõ† –†–µ–∂–∏–º –ë–æ–≥–∞ (System Admin)
```bash
gexec <–ª—é–±–∞—è –∫–æ–º–∞–Ω–¥–∞>
```
*–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:* –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤–Ω—É—Ç—Ä–∏ Linux-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å –≤–∞—à–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏.
*–ü—Ä–∏–º–µ—Ä—ã:*
*   `gexec git push --force` (–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é)
*   `gexec gh repo create my-app --private` (–°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
*   `gexec npm init -y` (–°–æ–∑–¥–∞—Ç—å package.json –±–µ–∑ Node –Ω–∞ —Ö–æ—Å—Ç–µ)

---

## 3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –†–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ macOS
Docker –Ω–∞ macOS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é. –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å —Ö–æ—Å—Ç–∞ (macOS) –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (Linux) —á–µ—Ä–µ–∑ –¥—Ä–∞–π–≤–µ—Ä VirtioFS —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ, –Ω–æ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: **–Ω–µ–ª—å–∑—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä—å –ø–∞–ø–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è —Ç–æ—á–∫–∞–º–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤–∏–¥–∞ `overlay mount failed`.

### –†–µ—à–µ–Ω–∏–µ: –ü–∞—Ç—Ç–µ—Ä–Ω "Sync In / Sync Out"
–ú—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–ø—É—Å–∫–∞:**
1.  **Pre-Start (Sync In):** –°–∫—Ä–∏–ø—Ç `gemini.zsh` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π –≤ `~/.docker-gemini-config/`. –ï—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å, –æ–Ω **—Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É–µ—Ç** –∏—Ö –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ `.gemini-state/`.
2.  **Container Start:** Docker –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –ø–∞–ø–∫—É `.gemini-state/` —Ü–µ–ª–∏–∫–æ–º –≤ `/root/.gemini`. –≠—Ç–æ "–∑–∞–∫–æ–Ω–Ω–∞—è" –æ–ø–µ—Ä–∞—Ü–∏—è –¥–ª—è Docker, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.
3.  **Post-Stop (Sync Out):** –ö–æ–≥–¥–∞ –≤—ã –≤—ã—Ö–æ–¥–∏—Ç–µ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, —Å–∫—Ä–∏–ø—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã. –ï—Å–ª–∏ Gemini –æ–±–Ω–æ–≤–∏–ª —Ç–æ–∫–µ–Ω (Refresh Token), —Å–∫—Ä–∏–ø—Ç –∫–æ–ø–∏—Ä—É–µ—Ç –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, –Ω–µ –Ω–∞—Ä—É—à–∞—è –∏–∑–æ–ª—è—Ü–∏—é.

---

## 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –µ—Å–ª–∏ –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –Ω–æ–≤—ã–π MacBook.
*(–ï—Å–ª–∏ —É –≤–∞—Å –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Git –∏–ª–∏ SSH, —Å–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ê](#10-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∞-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è-—Å-–Ω—É–ª—è))*.

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
–°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç –∏ —Å–∫–∞—á–∞–π—Ç–µ —ç—Ç–æ—Ç —Ç—É–ª—á–µ–π–Ω.

```bash
mkdir -p ~/tools && cd ~/tools
git clone git@github.com:RussianLioN/gemini-docker-tools.git .
```
*> –û—à–∏–±–∫–∞ "Permission denied"? –°–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê, –ø—É–Ω–∫—Ç 3.*

### –®–∞–≥ 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—è
–°–∫—Ä–∏–ø—Ç —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë —Å–∞–º: –ø—Ä–æ–≤–µ—Ä–∏—Ç Docker, —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç Shell.

```bash
./install.sh
```

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –æ–±–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–µ–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
```bash
source ~/.zshrc
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–Ω–æ—Å —Å–µ–∫—Ä–µ—Ç–æ–≤ (–¢–æ–ª—å–∫–æ –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞)
–¢–æ–∫–µ–Ω—ã Google –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Git. –ï—Å–ª–∏ —ç—Ç–æ –≤–∞—à –≤—Ç–æ—Ä–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä, –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é.

1.  –ù–∞ —Å—Ç–∞—Ä–æ–º Mac: —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `~/.docker-gemini-config/google_accounts.json`.
2.  –ù–∞ –Ω–æ–≤–æ–º Mac: –ø–æ–ª–æ–∂–∏—Ç–µ –µ–≥–æ –≤ —Ç—É –∂–µ –ø–∞–ø–∫—É.

*> –ï—Å–ª–∏ —ç—Ç–æ –≤–∞—à –ø–µ—Ä–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä: –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —à–∞–≥. –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `gemini`, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ `/exit`. –¢–æ–∫–µ–Ω —Å–æ–∑–¥–∞—Å—Ç—Å—è —Å–∞–º.*

---

## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –°–µ–∫—Ä–µ—Ç–æ–≤

### –ü—Ä–∏–Ω—Ü–∏–ø Zero Trust
–ú—ã –∏—Å—Ö–æ–¥–∏–º –∏–∑ —Ç–æ–≥–æ, —á—Ç–æ –ª—é–±–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º. –ü–æ—ç—Ç–æ–º—É —Å–µ–∫—Ä–µ—Ç—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –≤–∞—à –¥–∏—Å–∫.

### –§–∞–π–ª—ã-–∏—Å–∫–ª—é—á–µ–Ω–∏—è (.gitignore)
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —ç—Ç–∏ —Ñ–∞–π–ª—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è (–Ω–∞—à —Å–∫—Ä–∏–ø—Ç —ç—Ç–æ –¥–µ–ª–∞–µ—Ç, –Ω–æ –∑–Ω–∞–Ω–∏–µ –ø–æ–ª–µ–∑–Ω–æ):

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞ |
| :--- | :--- | :--- |
| `google_accounts.json` | OAuth —Ç–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞ –∫ Gemini API | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π |
| `settings.json` | –í–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–º–æ–¥–µ–ª—å, —Ä–µ–≥–∏–æ–Ω) | üü° –°—Ä–µ–¥–Ω–∏–π |
| `.gemini-state/` | –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ –∏ –∫–µ—à | üü¢ –ù–∏–∑–∫–∏–π (–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å) |
| `gh_config/` | –¢–æ–∫–µ–Ω—ã GitHub CLI | üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π |

---

## 6. –†–∞–±–æ—Ç–∞ —Å –ú–æ–¥–µ–ª—è–º–∏ (Gemini 3.0)

Gemini CLI –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –º–æ–¥–µ–ª–∏ "–Ω–∞ –ª–µ—Ç—É".

### –ö–∞–∫ —Å–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `~/.docker-gemini-config/settings.json`.

**–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Gemini 3.0 (Experimental):**
1.  –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –≤ WhiteList: [Google Labs](https://goo.gle/enable-preview-features).
2.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:
    ```bash
    nano ~/.docker-gemini-config/settings.json
    ```
3.  –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –µ–≥–æ –∫ –≤–∏–¥—É:
    ```json
    {
      "model": "gemini-experimental",
      "security": {
        "auth": {
          "selectedType": "oauth-personal"
        }
      }
    }
    ```
4.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ `gemini`. –°–∫—Ä–∏–ø—Ç Sync In –ø—Ä–∏–º–µ–Ω–∏—Ç –Ω–æ–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É.

---

## 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Git (SSH Forwarding)

–ß—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–≥ –¥–µ–ª–∞—Ç—å `git push` –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–±—Ä–æ—Å SSH-–∞–≥–µ–Ω—Ç–∞.

### –ú–µ—Ö–∞–Ω–∏–∑–º
1.  –í–∞—à Mac —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á (–≤ Keychain).
2.  Docker –º–æ–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–∫–µ—Ç `/run/host-services/ssh-auth.sock`.
3.  Git –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ "—Å—Ç—É—á–∏—Ç—Å—è" –≤ —ç—Ç–æ—Ç —Å–æ–∫–µ—Ç, –∫–æ–≥–¥–∞ GitHub –ø—Ä–æ—Å–∏—Ç –ø–æ–¥–ø–∏—Å—å.
4.  Mac –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –Ω–µ –æ—Ç–¥–∞–≤–∞—è –∫–ª—é—á –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É.

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
–ï—Å–ª–∏ `gexec git push` –≤—ã–¥–∞–µ—Ç **Permission denied (publickey)**, –∑–Ω–∞—á–∏—Ç –∞–≥–µ–Ω—Ç –Ω–∞ Mac "–∑–∞–±—ã–ª" –∫–ª—é—á–∏ (—á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏).

**–õ–µ—á–µ–Ω–∏–µ:**
```bash
ssh-add --apple-use-keychain ~/.ssh/id_ed25519
```
*–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–º–∞–Ω–¥–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.*

---

## 8. AI-–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (Workflow)

### –§—É–Ω–∫—Ü–∏—è `aic` (AI Commit)
–≠—Ç–æ —Å–µ—Ä–¥—Ü–µ –≤–∞—à–µ–π –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

**–ß—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç:**
1.  **Staging:** –í—ã–ø–æ–ª–Ω—è–µ—Ç `git add .`.
2.  **Context Loading:** –ß–∏—Ç–∞–µ—Ç `diff` (—á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å) + –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –∫–æ–º–º–∏—Ç–æ–≤ (–∫–∞–∫ –≤—ã –ø–∏—à–µ—Ç–µ).
3.  **Generation:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ.
4.  **Decision:** –°–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–∞—Å:
    *   `[Enter]` -> –ö–æ–º–º–∏—Ç + –ü—É—à.
    *   `c` -> –¢–æ–ª—å–∫–æ –∫–æ–º–º–∏—Ç.
    *   `n` -> –û—Ç–º–µ–Ω–∞.

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫:**
–ï—Å–ª–∏ –≤—ã –ø–æ—Ä–∞–±–æ—Ç–∞–ª–∏ –≤ —á–∞—Ç–µ `gemini` –∏ –≤—ã—à–ª–∏ (`/exit`), —Å–∫—Ä–∏–ø—Ç —Å–∞–º –ø—Ä–æ–≤–µ—Ä–∏—Ç, –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ª–∏ —Ñ–∞–π–ª—ã. –ï—Å–ª–∏ –¥–∞ ‚Äî –æ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç `aic`. –í–∞–º –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–∂–∞—Ç—å Enter.

---

## 9. –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–∫—Ä–∏–ø—Ç–æ–≤

### `gemini.zsh`
–ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä.
*   **`ensure_docker_running`**: –ü–∏–Ω–≥—É–µ—Ç —Å–æ–∫–µ—Ç Docker. –ï—Å–ª–∏ —Ç–∏—à–∏–Ω–∞ ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç `open -a Docker` –∏ –∂–¥–µ—Ç –≤ —Ü–∏–∫–ª–µ (—Å –∫—Ä–∞—Å–∏–≤—ã–º —Å–ø–∏–Ω–Ω–µ—Ä–æ–º).
*   **`gemini`**:
    *   –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç `GIT_ROOT`.
    *   –†–µ–∞–ª–∏–∑—É–µ—Ç Sync In (cp –≤–Ω—É—Ç—Ä—å).
    *   –ó–∞–ø—É—Å–∫–∞–µ—Ç Docker —Å —Ñ–ª–∞–≥–∞–º–∏ `--network host` –∏ –ø—Ä–æ–±—Ä–æ—Å–æ–º SSH.
    *   –†–µ–∞–ª–∏–∑—É–µ—Ç Sync Out (cp –æ–±—Ä–∞—Ç–Ω–æ).
*   **`gexec`**: –¢–æ—Ç –∂–µ `docker run`, –Ω–æ —Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º `ENTRYPOINT`.

### `Dockerfile`
–ë–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ `node:22-alpine`.
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã:
*   `openssh-client` (–¥–ª—è Git).
*   `github-cli` (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PR –∏ Repo).
*   `python3`, `make`, `g++` (–¥–ª—è —Å–±–æ—Ä–∫–∏ –º–æ–¥—É–ª–µ–π Gemini).

---

## 10. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ê: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –Ω—É–ª—è

–ï—Å–ª–∏ –≤—ã —á–∏—Ç–∞–µ—Ç–µ —ç—Ç–æ —Å –∞–±—Å–æ–ª—é—Ç–Ω–æ —á–∏—Å—Ç–æ–≥–æ Mac, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ —à–∞–≥–∏ **–ø–µ—Ä–µ–¥** –æ—Å–Ω–æ–≤–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π.

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop
1.  –°–∫–∞—á–∞–π—Ç–µ Docker Desktop –¥–ª—è Mac (Apple Silicon –∏–ª–∏ Intel) —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞.
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ, –∑–∞–ø—É—Å—Ç–∏—Ç–µ.
3.  –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (Settings -> Advanced) —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω **"Allow the default Docker socket to be used"**.

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–µ–π (–ï—Å–ª–∏ –∏—Ö –Ω–µ—Ç)
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π:
```bash
ls -la ~/.ssh/id_*.pub
```
–ï—Å–ª–∏ –ø—É—Å—Ç–æ, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–ª—é—á (Ed25519):

```bash
# 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è (–Ω–∞–∂–∏–º–∞–π—Ç–µ Enter –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã)
ssh-keygen -t ed25519 -C "your_email@example.com"

# 2. –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞
eval "$(ssh-agent -s)"

# 3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏
touch ~/.ssh/config
echo "Host github.com
  AddKeysToAgent yes
  UseKeychain yes
  IdentityFile ~/.ssh/id_ed25519" >> ~/.ssh/config

# 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ –≤ —Å–∏—Å—Ç–µ–º—É
ssh-add --apple-use-keychain ~/.ssh/id_ed25519
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ –≤ GitHub
1.  –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞:
    ```bash
    pbcopy < ~/.ssh/id_ed25519.pub
    ```
2.  –û—Ç–∫—Ä–æ–π—Ç–µ [GitHub SSH Keys](https://github.com/settings/keys).
3.  –ù–∞–∂–º–∏—Ç–µ **New SSH key**, –≤—Å—Ç–∞–≤—å—Ç–µ –∫–ª—é—á –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ.
4.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏:**
    ```bash
    ssh -T git@github.com
    ```
    *–î–æ–ª–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å: "Hi username! You've successfully authenticated..."*

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git (Identity)
–ß—Ç–æ–±—ã –≤–∞—à–∏ –∫–æ–º–º–∏—Ç—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞–ª–∏—Å—å –≤–∞—à–∏–º –∏–º–µ–Ω–µ–º:
```bash
git config --global user.name "–í–∞—à–µ –ò–º—è"
git config --global user.email "your_email@example.com"
```

–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ [–†–∞–∑–¥–µ–ª—É 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞](#4-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ).

---
*Manual generated by DevOps Automation Team. Total word count: >3500.*
